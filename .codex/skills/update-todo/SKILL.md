---
name: update-todo
description: 既存のMarkdown TODO/状況ファイルを、追加・削除・優先度変更・着手・ブロック・完了などの指示で更新する。口頭報告をタスクボードへ反映したいときに使う。update todo と言われた時に使う
---

# update-todo

既存のTODO/状況Markdownに対して、ユーザー意図に沿った差分更新を行う。

## 対応操作

- タスク追加
- 優先度変更
- セクション移動（`今日やること` `保留` `今後やること`）
- ブロック理由付きで保留化
- 完了化
- 進捗メモ追記

## 手順

1. 最新の指示から明確な操作意図を抽出する。
2. 当日ファイル `TODO/YYYY/MM/DD/TODO.md` を読み込む。
3. IDまたは文言で対象タスクを特定する。
4. 可読性と履歴を保つ最小編集を適用する。
5. 曖昧な場合は候補を1〜3件提示して確認する。
6. 最後に差分要約を短く返す。

## 状態タグ規約

軽量タグとして次を使う。

- `(P1|P2|P3)`
- `(blocked: 理由)`
- `(in progress)`
- `(done YYYY-MM-DD)`

## 注意点

- 1行編集で済む場合は全体を書き換えない。
- ユーザーが整理を指示しない限り完了タスクを削除しない。
- セクション順序は固定して保つ。
- 完了履歴は保持する（当日中も削除しない）。
